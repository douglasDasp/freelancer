
NAO EXISTE SoftwareSerial.h no CORE DO ESP32 devkit 1 ...

#1) exemplo que FUNCIONA

#include <HardwareSerial.h>

// Cria um objeto Serial extra usando UART1
HardwareSerial MySerial(1);

void setup() {
  Serial.begin(115200); // porta USB padrão
  // Configura UART1 nos pinos desejados (RX=16, TX=17)
  MySerial.begin(9600, SERIAL_8N1, 16, 17);
}

void loop() {
  if (MySerial.available()) {
    char c = MySerial.read();
    Serial.print(c); // imprime no monitor serial da USB
  }
}

//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------

#2) exemplo que QUASE FUNCIONA

#include <Wire.h>
#include <PN532_I2C.h>
#include <PN532.h>
#include <NfcAdapter.h>

// Usa I2C padrão do ESP32 (SDA=21, SCL=22)
PN532_I2C pn532_i2c(Wire);
NfcAdapter nfc = NfcAdapter(pn532_i2c);

void setup(void) {
    Serial.begin(115200);   // velocidade maior para ESP32
    Serial.println("NDEF Reader - ESP32");

    Wire.begin(21, 22);     // garante que SDA=21, SCL=22
    nfc.begin();
}

void loop(void) {
    Serial.println("\nScan a NFC tag\n");
    if (nfc.tagPresent()) {
        NfcTag tag = nfc.read();
        tag.print();
    }
    delay(2000);
}


# teste pra verificar monitor serial
// void setup() {
  // Serial.begin(115200);
  // Serial.println("Teste Serial OK");
// }
// void loop() {
  // Serial.println("Loop rodando...");
  // delay(1000);
// }
// 



# teste pra verificar o i2C
#include <Wire.h>
void setup() {
  Serial.begin(115200);
  Wire.begin(21,22); // ou tente (4,5) (21,22)
  Serial.println("Scanning I2C bus...");
  for(byte addr=1; addr<127; addr++) {
    Wire.beginTransmission(addr);
    if(Wire.endTransmission()==0) {
      Serial.print("Found device at 0x");
      Serial.println(addr, HEX);
    }
  }
}
void loop(){}


?----------------------------------------------------------------
?----------------------------------------------------------------
?----------------------------------------------------------------
##TESTE SERIAL
#include <PN532_HSU.h>
#include <PN532.h>

// No ESP32 podemos usar Serial2 (pinos padrão: RX=16, TX=17)
// Ajuste conforme seu módulo PN532 estiver conectado
PN532_HSU pn532hsu(Serial2);
PN532 nfc(pn532hsu);

void setup(void) {
  Serial.begin(115200);
  Serial.println("Teste PN532 via UART");

  // Inicializa UART2 com os pinos escolhidos
  Serial2.begin(115200, SERIAL_8N1, 16, 17); 
  // RX=16, TX=17 → ajuste se necessário

  nfc.begin();

  uint32_t versiondata = nfc.getFirmwareVersion();
  if (!versiondata) {
    Serial.println("Não encontrei PN532 :(");
    while (1); // trava aqui se não detectar
  }

  // Mostra versão do chip
  Serial.print("Encontrado PN532, chip: ");
  Serial.println((versiondata >> 24) & 0xFF, HEX);
  Serial.print("Versão firmware: ");
  Serial.print((versiondata >> 16) & 0xFF, DEC);
  Serial.print('.');
  Serial.println((versiondata >> 8) & 0xFF, DEC);

  // Configura para leitura de tags
  nfc.SAMConfig();
  Serial.println("Esperando por uma tag NFC...");
}

void loop(void) {
  uint8_t success;
  uint8_t uid[] = { 0, 0, 0, 0, 0, 0, 0 }; // buffer para UID
  uint8_t uidLength;

  // Tenta ler uma tag
  success = nfc.readPassiveTargetID(PN532_MIFARE_ISO14443A, uid, &uidLength);

  if (success) {
    Serial.println("Tag detectada!");
    Serial.print("UID Length: ");Serial.print(uidLength, DEC);Serial.println(" bytes");
    Serial.print("UID Value: ");
    for (uint8_t i=0; i < uidLength; i++) {
      Serial.print(" 0x");Serial.print(uid[i], HEX);
    }
    Serial.println("");
    delay(1000);
  }
}



